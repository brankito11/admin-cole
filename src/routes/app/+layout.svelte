<script lang="ts">
	import { Sidebar, Navbar } from '$lib/components';

	let { children } = $props();

	let isSidebarOpen = $state(false);
	let isSidebarCollapsed = $state(false);

	const parentMenuItems = [
		{ href: '/app/boletin-notas', label: 'BoletÃ­n de Notas', icon: 'ğŸ“Š' },
		{ href: '/app/licencias', label: 'Licencias', icon: 'ğŸ“‹' },
		{ href: '/app/pagos', label: 'Pagos', icon: 'ğŸ’³' },
		{ href: '/app/reuniones', label: 'Reuniones', icon: 'ğŸ‘¥' },
		{ href: '/app/padres', label: 'Padres', icon: 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§' },
		{ href: '/app/configuracion', label: 'ConfiguraciÃ³n', icon: 'âš™ï¸' }
	];

	function toggleSidebar() {
		isSidebarOpen = !isSidebarOpen;
	}

	function closeSidebar() {
		isSidebarOpen = false;
	}

	function toggleCollapse() {
		isSidebarCollapsed = !isSidebarCollapsed;
	}
</script>

<div class="flex h-screen bg-gray-50 overflow-hidden font-sans">
	<Sidebar
		menuItems={parentMenuItems}
		userRole="Padre de Familia"
		isOpen={isSidebarOpen}
		onClose={closeSidebar}
		isCollapsed={isSidebarCollapsed}
		onToggleCollapse={toggleCollapse}
	/>

	<div class="flex-1 flex flex-col overflow-hidden">
		<Navbar onToggleSidebar={toggleSidebar} />

		<main class="flex-1 overflow-y-auto p-4 lg:p-8">
			<div class="max-w-7xl mx-auto">
				{@render children()}
			</div>
		</main>
	</div>
</div>
